<div id="wrapper" style="min-height: 660px;">
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">Places</h1>
        </div>
        <div class="col-lg-3">
            <div class="form-group">
                <label>Select City</label>
                <select class="form-control" ng-change="onChangedCity()" ng-model="currentcity" ng-options="city as city.val().name for city in cities track by city.key">
                    <!-- <option ng-repeat="city in cities" value="{{city.key}}">{{city.val().name}}</option> -->
                </select>
            </div>
        </div>
        <div class="col-lg-3">
            <div class="form-group">
                <label>Select Categories</label>
                <!-- <select class="form-control" ng-model="categorykey" ng-change="onchangedcategory()">
                    <option ng-repeat="category in categories" value="{{category.key}}">{{category.name}}</option>
                </select> -->
                <select class="form-control" ng-model="selectedCategory" ng-change="onchangedcategory(selectedCategory)" ng-options="u.name for u in categories">
                </select>
            </div>
        </div>
        <div class="col-lg-6" align="right" style="padding-top: 25px;">
            <a class="btn btn-primary" ui-sref="dashboard.add-place" ng-disabled="currentcity === null">Add Place</a>
        </div>
        <!-- /.col-lg-12 -->
        <div class="col-lg-12">
            <!-- <div class="panel panel-default"> -->
                <!-- /.panel-heading -->
                <table width="100%" class="table table-striped table-bordered table-hover row-border hover" datatable="ng" dt-column-defs="dtColumnDefs" dt-options="dtOptions">
                    <thead>
                        <tr>
                            <th width="50px">No.</th>
                            <th>Name</th>
                            <th>Priority</th>
                            <th>Active</th>
                            <td>Action</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="odd gradeX" ng-repeat="place in cityPlaces" ng-show="!place.val().removed">
                            <td>{{$index + 1}}</td>
                            <td ng-click="edit($index)">{{place.val().name}}</td>
                            <td width="60px">
                                <label style="width: 15px; margin: 0px; height: 25px;"><span style="color: #E74645;">{{place.val().priority ? place.val().priority : 0}}</span></label>
                                <input id="{{'inputPriority' + $index}}" ng-value="{{place.val().priority ? place.val().priority : 0}}" my-enter="changePriority($index)" style="margin: 0px; height: 25px; text-align: left; padding: 0px; width: 40px;">
                            </td>
                            <td width="70px">
                                <div align="center" style="margin: 0px; padding: 0px;">
                                    <label style="width: 5px; margin: 0px; margin-right: 3px; height: 25px;"><span style="color: #E74645;">{{place.val().deactived ? 0 : 1}}</span></label>
                                    <button type="button" class="btn btn-default btn-xs" ng-click="deactiveAtIndex($index)" ng-show="place.val().deactived">Deactive</button>
                                    <button type="button" class="btn btn-success btn-xs" ng-click="deactiveAtIndex($index)" ng-show="!place.val().deactived">Active</button>
                                </div>
                            </td>
                            <td width="100px">
                                <button type="button" class="btn btn-warning btn-xs" ng-click="edit($index)" style="margin-right: 10px;">Edit</button>
                                <button type="button" class="btn btn-danger btn-xs" ng-click="deleteatindex($index)">Delete</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <!-- /.table-responsive -->
                <!-- /.panel-body -->
            <!-- </div> -->
        </div>
        <!-- /.col-lg-12 -->
    </div>
    <!-- /.row -->
</div>
